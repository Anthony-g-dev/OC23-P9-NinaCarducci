function mauGallery(e,t){t=Object.assign({},{columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},t);var a=[];function l(){if(!this.classList.contains("active-tag")){document.querySelector(".active.active-tag").classList.remove("active","active-tag"),this.classList.add("active-tag","active");var e=this.dataset.imagesToggle;document.querySelectorAll(".gallery-item").forEach(function(t){var a=t.closest(".item-column");"all"===e||t.dataset.galleryTag===e?a.style.display="block":a.style.display="none"})}}document.querySelectorAll(e).forEach(function(e){var i;(function e(t){if(!t.children[0].classList.contains("row")){var a=document.createElement("div");a.classList.add("gallery-items-row","row"),t.appendChild(a)}})(e),t.lightBox&&function e(t,a,l){var i=`
        <div class="modal fade" id="${a||"galleryLightbox"}" tabindex="-1" role="dialog" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                ${l?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;" />'}
                <img class="lightboxImage img-fluid" alt="Contenu de l'image affich\xe9e dans la modale au clique"/>
                ${l?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>':'<span style="display:none;" />'}
              </div>
            </div>
          </div>
        </div>`;t.insertAdjacentHTML("beforeend",i)}(e,t.lightboxId,t.navigation),i=t,document.querySelectorAll(".gallery-item").forEach(function(e){e.addEventListener("click",function(){if(i.lightBox&&"IMG"===e.tagName){var t,a;t=e,a=i.lightboxId,document.querySelector(`#${a}`).querySelector(".lightboxImage").src=t.src,new bootstrap.Modal(document.querySelector(`#${a}`)).show()}})}),document.querySelector(".gallery").addEventListener("click",function(e){var t,a,o,r,s,c,n,g,u,d,m,y;e.target.classList.contains("nav-link")?l.call(e.target):e.target.classList.contains("mg-prev")?(t=i.lightboxId,a=null,document.querySelectorAll("img.gallery-item").forEach(function(e){e.src===document.querySelector(".lightboxImage").src&&(a=e)}),o=document.querySelector(".tags-bar span.active-tag").dataset.imagesToggle,r=[],"all"===o?document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img")&&r.push(e.querySelector("img"))}):document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img").dataset.galleryTag===o&&r.push(e.querySelector("img"))}),s=0,c=null,r.forEach(function(e,t){a.src===e.src&&(s=t-1)}),c=r[s]||r[r.length-1],document.querySelector(".lightboxImage").src=c.src):e.target.classList.contains("mg-next")&&(n=i.lightboxId,g=null,document.querySelectorAll("img.gallery-item").forEach(function(e){e.src===document.querySelector(".lightboxImage").src&&(g=e)}),u=document.querySelector(".tags-bar span.active-tag").dataset.imagesToggle,d=[],"all"===u?document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img")&&d.push(e.querySelector("img"))}):document.querySelectorAll(".item-column").forEach(function(e){e.querySelector("img").dataset.galleryTag===u&&d.push(e.querySelector("img"))}),m=0,y=null,d.forEach(function(e,t){g.src===e.src&&(m=t+1)}),y=d[m]||d[0],document.querySelector(".lightboxImage").src=y.src)}),e.querySelectorAll(".gallery-item").forEach(function(e){"IMG"===(l=e).tagName&&l.classList.add("img-fluid"),function e(t){t.parentNode.querySelector(".gallery-items-row").appendChild(t)}(e),function e(t,a){var l="";if("number"==typeof a)l=`col-${Math.ceil(12/a)}`;else if("object"==typeof a)l=Object.keys(a).map(function(e){return`col-${e}-${Math.ceil(12/a[e])}`}).join(" ");else{console.error(`Columns should be defined as numbers or objects. ${typeof a} is not supported.`);return}var i=document.createElement("div");i.classList.add("item-column","mb-4"),i.classList.add(...l.split(" ")),t.parentNode.insertBefore(i,t),i.appendChild(t)}(e,t.columns);var l,i=e.dataset.galleryTag;t.showTags&&void 0!==i&&-1===a.indexOf(i)&&a.push(i)}),t.showTags&&function e(t,a,l){var i='<li class="nav-item"><span class="nav-link active active-tag"  data-images-toggle="all">Tous</span></li>';l.forEach(function(e){i+=`<li class="nav-item active">
          <span class="nav-link"  data-images-toggle="${e}">${e}</span></li>`});var o=`<ul class="my-4 tags-bar nav nav-pills">${i}</ul>`;"bottom"===a?t.insertAdjacentHTML("beforeend",o):"top"===a?t.insertAdjacentHTML("afterbegin",o):console.error(`Unknown tags position: ${a}`)}(e,t.tagsPosition,a),e.style.display="block"})}